{"version":3,"sources":["firebase.js","components/SendMessage.js","components/SignOut.js","components/Chat.js","components/SignIn.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","SendMessage","scroll","useState","msg","setMsg","e","a","preventDefault","currentUser","uid","photoURL","collection","add","text","createdAt","FieldValue","serverTimestamp","current","scrollIntoView","behavior","onSubmit","className","Input","style","width","fontSize","fontWeight","marginLeft","marginBottom","placeholder","type","value","onChange","target","Button","margin","maxWidth","SignOut","display","justifyContent","position","backgroundColor","top","borderBottom","zIndex","padding","borderRadius","onClick","signOut","Chat","useRef","messages","setMessages","useEffect","orderBy","limit","onSnapshot","snapshot","docs","map","doc","data","id","src","alt","ref","SignIn","height","alignItems","variant","provider","GoogleAuthProvider","signInWithPopup","App","useAuthState","user","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f2219ec.chunk.js","sourcesContent":["// Must use firebase/compat/x to import and use these the old way (pre firebase v9)\r\nimport firebase from 'firebase/compat/app'\r\nimport 'firebase/compat/auth'\r\nimport 'firebase/compat/firestore'\r\n\r\n// Firebase API info\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: \"AIzaSyAvMfJjEfwFFbfABRiwVhgA8dRAUHL_K3k\",\r\n    authDomain: \"messaging-app-292aa.firebaseapp.com\",\r\n    projectId: \"messaging-app-292aa\",\r\n    storageBucket: \"messaging-app-292aa.appspot.com\",\r\n    messagingSenderId: \"182252728575\",\r\n    appId: \"1:182252728575:web:d3a14bf4cb85c42e701cca\",\r\n    measurementId: \"G-8L550ZH9E0\"\r\n})\r\n// Database\r\nconst db = firebaseApp.firestore()\r\n// Authorization\r\nconst auth = firebase.auth()\r\n\r\nexport { db, auth }","import React, { useState } from 'react'\r\nimport { db, auth } from '../firebase'\r\nimport firebase from 'firebase/compat/app'\r\nimport { Input, Button } from '@material-ui/core'\r\n\r\nfunction SendMessage({ scroll }) {\r\n    const [msg, setMsg] = useState('')\r\n\r\n    async function sendMessage(e) {\r\n\r\n        // Prevents page from refreshing when message is sent\r\n        e.preventDefault()\r\n        const { uid, photoURL } = auth.currentUser\r\n\r\n        // Adds message to database\r\n        await db.collection('messages').add({\r\n            text: msg,\r\n            photoURL,\r\n            uid,\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n        \r\n        // Sets message field to an empty string after message is sent\r\n        setMsg('')\r\n        scroll.current.scrollIntoView({ \r\n            behavior: 'smooth'\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <form onSubmit={sendMessage}>\r\n                <div className=\"sendMsg\">\r\n                    <Input style={{ \r\n                        width: '78%', \r\n                        fontSize: '15px', \r\n                        fontWeight: '550', \r\n                        marginLeft: '5px', \r\n                        marginBottom: '-3px'\r\n                        }} placeholder='Message...' type=\"text\" value={msg} onChange={e => setMsg(e.target.value)} />\r\n                    <Button style={{\r\n                        width: '18%', \r\n                        fontSize: '15px', \r\n                        fontWeight: '550', \r\n                        margin: '4px 5% -13px 5%', \r\n                        maxWidth: '200px'\r\n                        }} type=\"submit\">Send</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SendMessage","import React from 'react'\r\nimport { auth } from '../firebase.js'\r\nimport { Button } from '@material-ui/core'\r\n\r\nfunction SignOut() {\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            position: 'fixed',\r\n            width: '100%',\r\n            backgroundColor: '#FAFAFA',\r\n            top: 0,\r\n            borderBottom: 'solid 1px lightgray',\r\n            zIndex: '10'\r\n        }}>\r\n            {/* Signs user out and returns them to sign in page */}\r\n            <Button style={{\r\n                padding: '20px',\r\n                fontSize: '15px',\r\n                borderRadius: '0',\r\n                fontWeight: '600'\r\n                }} onClick={() => auth.signOut()}>Sign Out</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignOut","import React, { useState, useEffect, useRef } from 'react'\r\nimport { db, auth } from '../firebase'\r\nimport SendMessage from './SendMessage'\r\nimport SignOut from './SignOut'\r\n\r\nfunction Chat() {\r\n    const scroll = useRef()\r\n    const [messages, setMessages] = useState([])\r\n\r\n    // Displaying messages from database\r\n    useEffect(() => {\r\n        db.collection('messages').orderBy('createdAt').limit(50).onSnapshot(snapshot => {\r\n            setMessages(snapshot.docs.map(doc => doc.data()))\r\n        })\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <SignOut />\r\n            <div className=\"msgs\">\r\n                {messages.map(({ id, text, photoURL, uid }) => (\r\n                    <div>\r\n                        <div key={id} className={`msg ${uid === auth.currentUser.uid ? 'sent' : 'received'}`}>\r\n                            <img src={photoURL} alt=\"\" />\r\n                            <p>{text}</p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <SendMessage scroll={scroll} />\r\n            <div ref={scroll}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import React from 'react'\r\nimport firebase from 'firebase/compat/app'\r\nimport { auth } from '../firebase.js'\r\nimport { Button } from '@material-ui/core'\r\n\r\n\r\nfunction SignIn() {\r\n    function signInWithGoogle() {\r\n        // Displays a popup prompting the user to sign in with Google\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        auth.signInWithPopup(provider)\r\n    }\r\n    return (\r\n        <div style={{ \r\n            display: 'flex', \r\n            justifyContent: 'center', \r\n            height: '100vh', \r\n            alignItems: 'center'\r\n            }}>\r\n            {/* Signs user in and displays the chatroom */}\r\n            <Button variant=\"contained\" style={{ \r\n                padding: '30px', \r\n                fontSize: '20px', \r\n                borderRadius: '0', \r\n                fontWeight: '600', \r\n                backgroundColor: '#DDD'\r\n                }} onClick={signInWithGoogle}>Sign In With Google</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignIn","import './App.css';\nimport Chat from './components/Chat';\nimport SignIn from './components/SignIn';\nimport { auth } from './firebase.js'\nimport { useAuthState } from 'react-firebase-hooks/auth'\n\n\nfunction App() {\n  const [user] = useAuthState(auth)\n  return (\n    <>\n      {/* If user is signed in, display the chatroom, otherwise display sign in page */}\n      {user ? <Chat /> : <SignIn />}\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}